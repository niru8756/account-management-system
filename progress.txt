
[2026-01-24] Authentication Feature Complete
- Added NextAuth configuration with credentials provider
- Created login page at /login with email/password form
- Added middleware to protect all routes except /login and /api/auth
- Updated Prisma schema with User model (id, email, name, role)
- Added SessionProvider to app providers
- Updated home page to display authenticated user info
- Added typecheck and test scripts to package.json
- Test credentials: admin@company.com / password or manager@company.com / password
- All protected routes now require authentication
- Types check successfully, tests pass


[2026-01-24] Seller Registry Feature Complete
- Added Seller model to Prisma schema (businessName, contactName, email, phone, address)
- Migrated database to SQLite with Prisma 7 and LibSQL adapter
- Created /api/sellers routes for GET (list) and POST (create)
- Created /api/sellers/[id] route for GET (individual seller)
- Built /sellers page with seller list table and add seller form
- Built /sellers/[id] page for seller profile view
- Added "Manage Sellers" link to home page
- Configured Prisma client with @prisma/adapter-libsql
- Types check successfully, tests pass
- Users can now navigate to sellers, add new sellers with business details, view seller list, and open individual seller profiles


[2026-01-24] Document Collection Feature Complete
- Added Document model to Prisma schema with relation to Seller (fileName, fileUrl, tags)
- Created /api/sellers/[id]/documents routes for GET (list) and POST (upload)
- Added Documents section to seller profile page with upload form
- Documents display with file name, tags, creation date, and view link
- Form includes fields for file name, file URL, and tags (KYC, PAN, Compliance)
- Documents are linked to seller via sellerId foreign key with cascade delete
- Types check successfully, tests pass
- Internal users can now upload documents, assign tags, and view all documents for a seller


[2026-01-24] One-Time Upload Link Feature Complete
- Added UploadLink model to Prisma schema (token, used, expiresAt, sellerId)
- Created /api/sellers/[id]/upload-links routes for POST (generate) and GET (list)
- Created /api/upload route for public document upload via token
- Built /upload page for external users to upload documents using token
- Added upload link generation UI to seller profile page
- Links expire after use or after 7 days
- Updated middleware to allow public access to /upload and /api/upload
- Upload links display status (Active/Used/Expired) and expiration time
- Types check successfully, tests pass
- External sellers can now receive a one-time link, upload documents securely, and links automatically expire after single use


[2026-01-24] Payments Feature Complete
- Added Payment model to Prisma schema (amount, paymentDate, reference, proofOfPayment)
- Created /api/sellers/[id]/payments routes for GET (list) and POST (create)
- Added Payments section to seller profile page with payment recording form
- Form includes fields for amount, payment date, reference (optional), and proof of payment URL
- Payments display with amount, date, reference, recorded timestamp, and link to proof
- Payments are linked to seller via sellerId foreign key with cascade delete
- Types check successfully, tests pass
- Internal users can now record payments with metadata, upload proof of payment, and view all payments for a seller


[2026-01-24] Invoice Generation Feature Complete
- Added Invoice model to Prisma schema with relation to Payment (invoiceNumber, pdfUrl)
- Created /api/payments/[id]/invoices routes for POST (generate) and GET (list)
- Added invoice generation UI to seller profile payment records
- Each payment can have multiple invoices with unique invoice numbers
- Invoice numbers auto-generated with format INV-{timestamp}
- Invoices display with number, creation date, and PDF download link
- Regenerated Prisma client to include Invoice model
- Types check successfully, tests pass
- Internal users can now generate invoices from payment records, view invoice numbers, and download invoice PDFs
